<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="EcoSentinel AI - Community-Driven Environmental Risk Intelligence Platform">
    <meta name="keywords" content="environmental intelligence, climate action, Kenya, UNEP, AI, flooding, air quality, deforestation">
    <meta name="author" content="Gideon Kiprono">
    <title>EcoSentinel AI - Environmental Risk Intelligence Platform</title>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Azure Maps SDK -->
    <link rel="stylesheet" href="https://atlas.microsoft.com/sdk/javascript/mapcontrol/2/atlas.min.css" type="text/css">
    <script src="https://atlas.microsoft.com/sdk/javascript/mapcontrol/2/atlas.min.js"></script>
    

    <!-- Header Navigation Links (Chat & Alerts) -->
    <style>
      .header-nav-links {
        display: flex;
        align-items: center;
        gap: 1.5rem;
        margin-left: 2rem;
      }
      .header-link {
        color: white;
        text-decoration: none;
        font-weight: 500;
        font-size: 1rem;
        position: relative;
        transition: color 0.2s;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        padding: 6px 10px;
        border-radius: 8px;
      }
      .header-link.active,
      .header-link:hover {
        background: rgba(255,255,255,0.18);
        color: #fff;
      }
      .alerts-badge {
        background: var(--alert-orange);
        color: #fff;
        font-size: 0.75rem;
        font-weight: 700;
        border-radius: 8px;
        padding: 2px 7px;
        margin-left: 4px;
        vertical-align: top;
        line-height: 1;
      }
    </style>
    
    <style>
      :root {
        /* EcoSentinel AI Brand Colors */
        --forest-green: #2E7D32;
        --eco-green: #4CAF50;
        --nature-green: #388E3C;
        --tech-blue: #00BCD4;
        --alert-orange: #FF9800;
        --deep-blue: #1976D2;
        --earth-red: #F44336;
        --dark-forest: #1B5E20;
        --light-green: #E8F5E8;
        --sage: #C8E6C9;
        --gray: #757575;
        --light-gray: #F5F5F5;
        --white: #FFFFFF;
        
        /* Layout */
        --sidebar-width: 280px;
        --header-height: 70px;
        --border-radius: 12px;
        --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        
        /* Animation */
        --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: 'Inter', Arial, sans-serif;
        background: var(--light-gray);
        color: var(--dark-forest);
        overflow-x: hidden;
      }

      /* Header */
      .header {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        height: var(--header-height);
        background: linear-gradient(135deg, var(--forest-green) 0%, var(--nature-green) 100%);
        box-shadow: var(--shadow);
        z-index: 1000;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0 2rem;
        color: white;
      }

      .header-left {
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      .logo {
        width: 40px;
        height: 40px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
      }

      .header-title {
        font-family: 'Space Grotesk', sans-serif;
        font-size: 1.5rem;
        font-weight: 700;
      }

      .header-right {
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      .language-toggle {
        display: flex;
        background: rgba(255, 255, 255, 0.15);
        border-radius: 20px;
        padding: 4px;
        gap: 4px;
      }

      .lang-btn {
        padding: 6px 12px;
        border: none;
        background: transparent;
        color: white;
        border-radius: 16px;
        font-size: 0.875rem;
        font-weight: 500;
        cursor: pointer;
        transition: var(--transition);
      }

      .lang-btn.active {
        background: rgba(255, 255, 255, 0.3);
        backdrop-filter: blur(10px);
      }

      .voice-assistant-btn {
        width: 40px;
        height: 40px;
        background: rgba(255, 255, 255, 0.15);
        border: none;
        border-radius: 50%;
        color: white;
        cursor: pointer;
        transition: var(--transition);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.2rem;
      }

      .voice-assistant-btn:hover {
        background: rgba(255, 255, 255, 0.25);
        transform: scale(1.05);
      }

      /* Sidebar Navigation */
      .sidebar {
        position: fixed;
        top: var(--header-height);
        left: 0;
        width: var(--sidebar-width);
        height: calc(100vh - var(--header-height));
        background: white;
        box-shadow: var(--shadow);
        z-index: 900;
        overflow-y: auto;
      }

      .nav-menu {
        padding: 1.5rem 0;
      }

      .nav-item {
        display: flex;
        align-items: center;
        gap: 1rem;
        padding: 1rem 1.5rem;
        color: var(--gray);
        text-decoration: none;
        transition: var(--transition);
        border-left: 3px solid transparent;
      }

      .nav-item:hover {
        background: var(--light-green);
        color: var(--forest-green);
      }

      .nav-item.active {
        background: var(--light-green);
        color: var(--forest-green);
        border-left-color: var(--forest-green);
        font-weight: 600;
      }

      .nav-icon {
        font-size: 1.25rem;
        width: 24px;
        text-align: center;
      }

      /* Main Content */
      .main-content {
        margin-left: var(--sidebar-width);
        margin-top: var(--header-height);
        padding: 2rem;
        min-height: calc(100vh - var(--header-height));
        background: var(--light-gray);
      }

      /* Dashboard Grid */
      .dashboard-grid {
        display: grid;
        grid-template-columns: 2fr 1fr;
        gap: 2rem;
        height: calc(100vh - var(--header-height) - 4rem);
      }

      /* Map Section */
      .map-section {
        background: white;
        border-radius: var(--border-radius);
        box-shadow: var(--shadow);
        padding: 1.5rem;
        display: flex;
        flex-direction: column;
      }

      .map-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 1rem;
        padding-bottom: 1rem;
        border-bottom: 1px solid #e0e0e0;
      }

      .map-title {
        font-size: 1.25rem;
        font-weight: 600;
        color: var(--dark-forest);
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .map-container {
        flex: 1;
        background: var(--light-gray);
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--gray);
        font-size: 1.1rem;
        position: relative;
        min-height: 400px;
      }

      /* Status Cards Section */
      .status-section {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
      }

      .status-card {
        background: white;
        border-radius: var(--border-radius);
        box-shadow: var(--shadow);
        padding: 1.5rem;
        transition: var(--transition);
      }

      .status-card:hover {
        transform: translateY(-2px);
        box-shadow: var(--shadow-lg);
      }

      .card-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 1rem;
      }

      .card-title {
        font-size: 1rem;
        font-weight: 600;
        color: var(--dark-forest);
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .card-icon {
        width: 40px;
        height: 40px;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.2rem;
        color: white;
      }

      .aqi-icon {
        background: var(--tech-blue);
      }

      .flood-icon {
        background: var(--deep-blue);
      }

      .heat-icon {
        background: var(--alert-orange);
      }

      .biodiversity-icon {
        background: var(--eco-green);
      }

      .card-value {
        font-size: 2rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
      }

      .card-status {
        font-size: 0.875rem;
        padding: 0.25rem 0.75rem;
        border-radius: 20px;
        font-weight: 500;
        text-align: center;
      }

      .status-good {
        background: var(--light-green);
        color: var(--forest-green);
      }

      .status-moderate {
        background: #fff3e0;
        color: var(--alert-orange);
      }

      .status-poor {
        background: #ffebee;
        color: var(--earth-red);
      }

      .risk-low { color: var(--eco-green); }
      .risk-medium { color: var(--alert-orange); }
      .risk-high { color: var(--earth-red); }

      /* Floating Chat Assistant */
      .chat-toggle {
        position: fixed;
        bottom: 2rem;
        right: 2rem;
        width: 60px;
        height: 60px;
        background: linear-gradient(135deg, var(--tech-blue), var(--deep-blue));
        border: none;
        border-radius: 50%;
        color: white;
        font-size: 1.5rem;
        cursor: pointer;
        box-shadow: var(--shadow-lg);
        transition: var(--transition);
        z-index: 1000;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .chat-toggle:hover {
        transform: scale(1.1);
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
      }

      .chat-window {
        position: fixed;
        bottom: 6rem;
        right: 2rem;
        width: 400px;
        height: 500px;
        background: white;
        border-radius: var(--border-radius);
        box-shadow: var(--shadow-lg);
        z-index: 1001;
        display: flex;
        flex-direction: column;
        transform: translateY(100px);
        opacity: 0;
        visibility: hidden;
        transition: var(--transition);
      }

      .chat-window.open {
        transform: translateY(0);
        opacity: 1;
        visibility: visible;
      }

      .chat-header {
        padding: 1rem 1.5rem;
        background: linear-gradient(135deg, var(--forest-green), var(--nature-green));
        color: white;
        border-radius: var(--border-radius) var(--border-radius) 0 0;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      .chat-title {
        font-weight: 600;
        font-size: 1.1rem;
      }

      .chat-close {
        background: none;
        border: none;
        color: white;
        font-size: 1.2rem;
        cursor: pointer;
        padding: 0.25rem;
        border-radius: 4px;
        transition: var(--transition);
      }

      .chat-close:hover {
        background: rgba(255, 255, 255, 0.2);
      }

      .chat-messages {
        flex: 1;
        padding: 1rem;
        overflow-y: auto;
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }

      .message {
        max-width: 80%;
        padding: 0.75rem 1rem;
        border-radius: 12px;
        font-size: 0.9rem;
        line-height: 1.4;
      }

      .message.user {
        align-self: flex-end;
        background: var(--tech-blue);
        color: white;
      }

      .message.assistant {
        align-self: flex-start;
        background: var(--light-green);
        color: var(--dark-forest);
      }

      .chat-input-container {
        padding: 1rem;
        border-top: 1px solid #e0e0e0;
        display: flex;
        gap: 0.5rem;
      }

      .chat-input {
        flex: 1;
        padding: 0.75rem;
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        font-size: 0.9rem;
        outline: none;
        transition: var(--transition);
      }

      .chat-input:focus {
        border-color: var(--tech-blue);
        box-shadow: 0 0 0 3px rgba(0, 188, 212, 0.1);
      }

      .chat-send {
        padding: 0.75rem 1rem;
        background: var(--tech-blue);
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        transition: var(--transition);
      }

      .chat-send:hover {
        background: var(--deep-blue);
      }

      /* Live Data Indicator */
      .live-indicator {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 0.875rem;
        color: var(--gray);
        margin-top: auto;
        padding-top: 1rem;
        border-top: 1px solid #e0e0e0;
      }

      .live-dot {
        width: 8px;
        height: 8px;
        background: var(--eco-green);
        border-radius: 50%;
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }

      /* Responsive Design */
      @media (max-width: 1200px) {
        .dashboard-grid {
          grid-template-columns: 1fr;
          grid-template-rows: 1fr auto;
        }
        
        .status-section {
          grid-template-columns: repeat(2, 1fr);
          display: grid;
        }
      }

      @media (max-width: 768px) {
        .sidebar {
          transform: translateX(-100%);
          transition: var(--transition);
        }
        
        .sidebar.open {
          transform: translateX(0);
        }
        
        .main-content {
          margin-left: 0;
          padding: 1rem;
        }
        
        .header-title {
          font-size: 1.2rem;
        }
        
        .chat-window {
          width: calc(100vw - 2rem);
          right: 1rem;
          left: 1rem;
        }
        
        .status-section {
          grid-template-columns: 1fr;
        }
      }

      @media (max-width: 480px) {
        .header {
          padding: 0 1rem;
        }
        
        .header-title {
          font-size: 1rem;
        }
        
        .language-toggle {
          display: none;
        }
      }
    </style>
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <div class="header-left">
        <div class="logo">
          <i class="fas fa-leaf"></i>
        </div>
        <h1 class="header-title">EcoSentinel AI</h1>
      </div>
      <div class="header-right">
        <div class="language-toggle">
          <button id="lang-en" class="lang-btn active">EN</button>
          <button id="lang-sw" class="lang-btn">SW</button>
        </div>
        <button class="voice-assistant-btn" title="Voice Assistant">
          <i class="fas fa-microphone"></i>
        </button>
      </div>
    </header>

    <!-- Sidebar Navigation -->
    <nav class="sidebar">
      <div class="nav-menu">
        <a href="#" class="nav-item active">
          <span class="nav-icon"><i class="fas fa-tachometer-alt"></i></span>
          <span>Dashboard</span>
        </a>
        <a href="#" class="nav-item">
          <span class="nav-icon"><i class="fas fa-wind"></i></span>
          <span>Air Quality</span>
        </a>
        <a href="#" class="nav-item">
          <span class="nav-icon"><i class="fas fa-water"></i></span>
          <span>Flood Risk</span>
        </a>
        <a href="#" class="nav-item">
          <span class="nav-icon"><i class="fas fa-thermometer-half"></i></span>
          <span>Heatwave</span>
        </a>
        <a href="#" class="nav-item">
          <span class="nav-icon"><i class="fas fa-seedling"></i></span>
          <span>Biodiversity</span>
        </a>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
      <div class="dashboard-grid">
        <!-- Map Section -->
        <div class="map-section">
          <div class="map-header">
            <h2 class="map-title">
              <i class="fas fa-map-marked-alt"></i>
              Environmental Monitoring Map
            </h2>
          </div>
          <div class="map-container" id="mapContainer">
            <div style="text-align: center;">
              <i class="fas fa-map" style="font-size: 3rem; color: var(--gray); margin-bottom: 1rem;"></i>
              <p>Azure Maps Integration</p>
              <p style="font-size: 0.9rem; margin-top: 0.5rem;">Real-time environmental data visualization</p>
            </div>
          </div>
          <div class="live-indicator">
            <div class="live-dot"></div>
            <span>Live Data â€¢ Updated 2 minutes ago</span>
          </div>
        </div>

        <!-- Status Cards Section -->
        <div class="status-section">
          <!-- Air Quality Index Card -->
          <div class="status-card">
            <div class="card-header">
              <h3 class="card-title">
                <div class="card-icon aqi-icon">
                  <i class="fas fa-wind"></i>
                </div>
                Air Quality Index
              </h3>
            </div>
            <div class="card-value" id="aqiValue">156</div>
            <div class="card-status status-moderate" id="aqiStatus">Moderate</div>
            <div style="margin-top: 1rem; font-size: 0.875rem; color: var(--gray);">
              <i class="fas fa-map-marker-alt"></i> Nairobi, Kenya
            </div>
          </div>

          <!-- Flood Risk Card -->
          <div class="status-card">
            <div class="card-header">
              <h3 class="card-title">
                <div class="card-icon flood-icon">
                  <i class="fas fa-water"></i>
                </div>
                Flood Risk Level
              </h3>
            </div>
            <div class="card-value risk-medium" id="floodValue">Medium</div>
            <div class="card-status status-moderate" id="floodStatus">Monitor</div>
            <div style="margin-top: 1rem; font-size: 0.875rem; color: var(--gray);">
              <i class="fas fa-clock"></i> Next 7 days
            </div>
          </div>

          <!-- Heat Index Card -->
          <div class="status-card">
            <div class="card-header">
              <h3 class="card-title">
                <div class="card-icon heat-icon">
                  <i class="fas fa-thermometer-half"></i>
                </div>
                Heat Index
              </h3>
            </div>
            <div class="card-value" id="heatValue">28Â°C</div>
            <div class="card-status status-good" id="heatStatus">Normal</div>
            <div style="margin-top: 1rem; font-size: 0.875rem; color: var(--gray);">
              <i class="fas fa-sun"></i> Feels like 32Â°C
            </div>
          </div>

          <!-- Biodiversity Card -->
          <div class="status-card">
            <div class="card-header">
              <h3 class="card-title">
                <div class="card-icon biodiversity-icon">
                  <i class="fas fa-seedling"></i>
                </div>
                Forest Cover
              </h3>
            </div>
            <div class="card-value risk-low" id="forestValue">92%</div>
            <div class="card-status status-good" id="forestStatus">Stable</div>
            <div style="margin-top: 1rem; font-size: 0.875rem; color: var(--gray);">
              <i class="fas fa-chart-line"></i> +0.2% this month
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Floating Chat Assistant -->
    <button class="chat-toggle" id="chatToggle" title="Chat with EcoSentinel AI">
      <i class="fas fa-comments"></i>
    </button>

    <div class="chat-window" id="chatWindow">
      <div class="chat-header">
        <h3 class="chat-title">EcoSentinel AI Assistant</h3>
        <button class="chat-close" id="chatClose">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="chat-messages" id="chatMessages">
        <div class="message assistant">
          ðŸ‘‹ Hello! I'm your EcoSentinel AI assistant. Ask me about environmental risks, air quality, flood predictions, or any environmental concerns in your area.
        </div>
      </div>
      <div class="chat-input-container">
        <input type="text" class="chat-input" id="chatInput" placeholder="Ask about environmental risks in your area...">
        <button class="chat-send" id="chatSend">
          <i class="fas fa-paper-plane"></i>
        </button>
      </div>
      /* Responsive Design */
      @media (max-width: 1200px) {
        .dashboard-grid {
          grid-template-columns: 1fr;
          grid-template-rows: 1fr auto;
        }
        
        .status-section {
          grid-template-columns: repeat(2, 1fr);
          display: grid;
        }
      }

      @media (max-width: 768px) {
        .sidebar {
          transform: translateX(-100%);
          transition: var(--transition);
        }
        
        .sidebar.open {
          transform: translateX(0);
        }
        
        .main-content {
          margin-left: 0;
          padding: 1rem;
        }
        
        .header-title {
          font-size: 1.2rem;
        }
        
        .chat-window {
          width: calc(100vw - 2rem);
          right: 1rem;
          left: 1rem;
        }
        
        .status-section {
          grid-template-columns: 1fr;
        }
      }

      @media (max-width: 480px) {
        .header {
          padding: 0 1rem;
        }
        
        .header-title {
          font-size: 1rem;
        }
        
        .language-toggle {
          display: none;
        }
      }
    </style>
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <div class="header-left">
        <div class="logo">
          <i class="fas fa-leaf"></i>
        </div>
        <h1 class="header-title">EcoSentinel AI</h1>
      </div>
      <div class="header-right">
        <div class="language-toggle">
          <button id="lang-en" class="lang-btn active">EN</button>
          <button id="lang-sw" class="lang-btn">SW</button>
        </div>
        <button class="voice-assistant-btn" title="Voice Assistant">
          <i class="fas fa-microphone"></i>
        </button>
      </div>
    </header>

    <!-- Sidebar Navigation -->
    <nav class="sidebar">
      <div class="nav-menu">
        <a href="#" class="nav-item active">
          <span class="nav-icon"><i class="fas fa-tachometer-alt"></i></span>
          <span>Dashboard</span>
        </a>
        <a href="#" class="nav-item">
          <span class="nav-icon"><i class="fas fa-wind"></i></span>
          <span>Air Quality</span>
        </a>
        <a href="#" class="nav-item">
          <span class="nav-icon"><i class="fas fa-water"></i></span>
          <span>Flood Risk</span>
        </a>
        <a href="#" class="nav-item">
          <span class="nav-icon"><i class="fas fa-thermometer-half"></i></span>
          <span>Heatwave</span>
        </a>
        <a href="#" class="nav-item">
          <span class="nav-icon"><i class="fas fa-seedling"></i></span>
          <span>Biodiversity</span>
        </a>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
      <div class="dashboard-grid">
        <!-- Map Section -->
        <div class="map-section">
          <div class="map-header">
            <h2 class="map-title">
              <i class="fas fa-map-marked-alt"></i>
              Environmental Monitoring Map
            </h2>
          </div>
          <div class="map-container" id="mapContainer">
            <div style="text-align: center;">
              <i class="fas fa-map" style="font-size: 3rem; color: var(--gray); margin-bottom: 1rem;"></i>
              <p>Azure Maps Integration</p>
              <p style="font-size: 0.9rem; margin-top: 0.5rem;">Real-time environmental data visualization</p>
            </div>
          </div>
          <div class="live-indicator">
            <div class="live-dot"></div>
            <span>Live Data â€¢ Updated 2 minutes ago</span>
          </div>
        </div>

        <!-- Status Cards Section -->
        <div class="status-section">
          <!-- Air Quality Index Card -->
          <div class="status-card">
            <div class="card-header">
              <h3 class="card-title">
                <div class="card-icon aqi-icon">
                  <i class="fas fa-wind"></i>
                </div>
                Air Quality Index
              </h3>
            </div>
            <div class="card-value" id="aqiValue">156</div>
            <div class="card-status status-moderate" id="aqiStatus">Moderate</div>
            <div style="margin-top: 1rem; font-size: 0.875rem; color: var(--gray);">
              <i class="fas fa-map-marker-alt"></i> Nairobi, Kenya
            </div>
          </div>

          <!-- Flood Risk Card -->
          <div class="status-card">
            <div class="card-header">
              <h3 class="card-title">
                <div class="card-icon flood-icon">
                  <i class="fas fa-water"></i>
                </div>
                Flood Risk Level
              </h3>
            </div>
            <div class="card-value risk-medium" id="floodValue">Medium</div>
            <div class="card-status status-moderate" id="floodStatus">Monitor</div>
            <div style="margin-top: 1rem; font-size: 0.875rem; color: var(--gray);">
              <i class="fas fa-clock"></i> Next 7 days
            </div>
          </div>

          <!-- Heat Index Card -->
          <div class="status-card">
            <div class="card-header">
              <h3 class="card-title">
                <div class="card-icon heat-icon">
                  <i class="fas fa-thermometer-half"></i>
                </div>
                Heat Index
              </h3>
            </div>
            <div class="card-value" id="heatValue">28Â°C</div>
            <div class="card-status status-good" id="heatStatus">Normal</div>
            <div style="margin-top: 1rem; font-size: 0.875rem; color: var(--gray);">
              <i class="fas fa-sun"></i> Feels like 32Â°C
            </div>
          </div>

          <!-- Biodiversity Card -->
          <div class="status-card">
            <div class="card-header">
              <h3 class="card-title">
                <div class="card-icon biodiversity-icon">
                  <i class="fas fa-seedling"></i>
                </div>
                Forest Cover
              </h3>
            </div>
            <div class="card-value risk-low" id="forestValue">92%</div>
            <div class="card-status status-good" id="forestStatus">Stable</div>
            <div style="margin-top: 1rem; font-size: 0.875rem; color: var(--gray);">
              <i class="fas fa-chart-line"></i> +0.2% this month
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Floating Chat Assistant -->
    <button class="chat-toggle" id="chatToggle" title="Chat with EcoSentinel AI">
      <i class="fas fa-comments"></i>
    </button>

    <div class="chat-window" id="chatWindow">
      <div class="chat-header">
        <h3 class="chat-title">EcoSentinel AI Assistant</h3>
        <button class="chat-close" id="chatClose">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="chat-messages" id="chatMessages">
        <div class="message assistant">
          ðŸ‘‹ Hello! I'm your EcoSentinel AI assistant. Ask me about environmental risks, air quality, flood predictions, or any environmental concerns in your area.
        </div>
      </div>
      <div class="chat-input-container">
        <input type="text" class="chat-input" id="chatInput" placeholder="Ask about environmental risks in your area...">
        <button class="chat-send" id="chatSend">
          <i class="fas fa-paper-plane"></i>
        </button>
      </div>
    </div>

    <!-- Scripts -->
    <script type="module" src="/src/index.ts"></script>
    <script>
      // Language configurations
      const languages = {
        en: {
          dashboard: 'Dashboard',
          airQuality: 'Air Quality',
          floodRisk: 'Flood Risk',
          heatwave: 'Heatwave',
          biodiversity: 'Biodiversity',
          chatPlaceholder: 'Ask about environmental risks in your area...',
          chatTitle: 'EcoSentinel AI Assistant',
          mapTitle: 'Environmental Monitoring Map',
          liveData: 'Live Data',
          aqiTitle: 'Air Quality Index',
          floodTitle: 'Flood Risk Level',
          heatIndex: 'Heat Index',
          forestCover: 'Forest Cover',
          waterQuality: 'Water Quality',
          activeAlerts: 'Active Alerts'
        },
        sw: {
          dashboard: 'Dashibodi',
          airQuality: 'Ubora wa Hewa',
          floodRisk: 'Hatari ya Mafuriko',
          heatwave: 'Joto Kali',
          biodiversity: 'Mazingira',
          chatPlaceholder: 'Uliza kuhusu hatari za mazingira eneo lako...',
          chatTitle: 'Msaidizi wa EcoSentinel AI',
          mapTitle: 'Ramani ya Ufuatiliaji wa Mazingira',
          liveData: 'Data za Moja kwa Moja',
          aqiTitle: 'Kiwango cha Ubora wa Hewa',
          floodTitle: 'Kiwango cha Hatari ya Mafuriko',
          heatIndex: 'Kiwango cha Joto',
          forestCover: 'Mlolongo wa Misitu',
          waterQuality: 'Ubora wa Maji',
          activeAlerts: 'Maonyo Yanayoendelea'
        }
      };

      let currentLanguage = 'en';

      // Language switching
      document.getElementById('lang-en').addEventListener('click', () => switchLanguage('en'));
      document.getElementById('lang-sw').addEventListener('click', () => switchLanguage('sw'));

      function switchLanguage(lang) {
        currentLanguage = lang;
        
        // Update active button
        document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
        document.getElementById(`lang-${lang}`).classList.add('active');
        
        // Update text content
        const texts = languages[lang];
        document.querySelector('.nav-item:nth-child(1) span:last-child').textContent = texts.dashboard;
        document.querySelector('.nav-item:nth-child(2) span:last-child').textContent = texts.airQuality;
        document.querySelector('.nav-item:nth-child(3) span:last-child').textContent = texts.floodRisk;
        document.querySelector('.nav-item:nth-child(4) span:last-child').textContent = texts.heatwave;
        document.querySelector('.nav-item:nth-child(5) span:last-child').textContent = texts.biodiversity;
        
        document.getElementById('chatInput').placeholder = texts.chatPlaceholder;
        document.querySelector('.chat-title').textContent = texts.chatTitle;
        document.querySelector('.map-title').innerHTML = `<i class="fas fa-map-marked-alt"></i> ${texts.mapTitle}`;
      }

      // Chat functionality
      const chatToggle = document.getElementById('chatToggle');
      const chatWindow = document.getElementById('chatWindow');
      const chatClose = document.getElementById('chatClose');
      const chatInput = document.getElementById('chatInput');
      const chatSend = document.getElementById('chatSend');
      const chatMessages = document.getElementById('chatMessages');

      chatToggle.addEventListener('click', () => {
        chatWindow.classList.add('open');
      });

      chatClose.addEventListener('click', () => {
        chatWindow.classList.remove('open');
      });

      function sendMessage() {
        const message = chatInput.value.trim();
        if (!message) return;

        // Add user message
        const userMsg = document.createElement('div');
        userMsg.className = 'message user';
        userMsg.textContent = message;
        chatMessages.appendChild(userMsg);

        // Clear input
        chatInput.value = '';

        // Simulate AI response
        setTimeout(() => {
          const aiMsg = document.createElement('div');
          aiMsg.className = 'message assistant';
          aiMsg.textContent = generateResponse(message);
          chatMessages.appendChild(aiMsg);
          chatMessages.scrollTop = chatMessages.scrollHeight;
        }, 1000);

        chatMessages.scrollTop = chatMessages.scrollHeight;
      }

      function generateResponse(message) {
        const responses = {
          en: [
            "Based on current data, the flood risk in your area is moderate. Consider preparing emergency supplies.",
            "Air quality is currently at 156 AQI (Moderate). Sensitive individuals should limit outdoor activities.",
            "The heat index is 28Â°C. Stay hydrated and seek shade during peak hours.",
            "Forest cover in your region is stable at 92%. Continue supporting conservation efforts.",
            "I can help you understand environmental risks. What specific area or concern would you like to know about?",
            "Current environmental conditions show moderate air quality. Would you like real-time updates for your location?"
          ],
          sw: [
            "Kulingana na data za sasa, hatari ya mafuriko eneo lako ni wastani. Zingatia kujiandaa na vifaa vya dharura.",
            "Ubora wa hewa kwa sasa ni 156 AQI (Wastani). Watu wenye mchocheo wanapaswa kupunguza shughuli za nje.",
            "Kiwango cha joto ni 28Â°C. Kunywa maji mengi na utafute kivuli wakati wa joto kali.",
            "Mlolongo wa misitu eneo lako ni thabiti kwa 92%. Endelea kuunga mkono juhudi za uhifadhi.",
            "Ninaweza kukusaidia kuelewa hatari za mazingira. Je, ungependa kujua kuhusu eneo gani au jambo la ziada?",
            "Hali za mazingira za sasa zinaonyesha ubora wa hewa wa wastani. Je, ungependa usasishaji wa wakati halisi kwa eneo lako?"
          ]
        };
        
        const langResponses = responses[currentLanguage];
        return langResponses[Math.floor(Math.random() * langResponses.length)];
      }

      chatSend.addEventListener('click', sendMessage);
      chatInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') sendMessage();
      });

      // Navigation
      document.querySelectorAll('.nav-item').forEach(item => {
        item.addEventListener('click', (e) => {
          e.preventDefault();
          document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
          item.classList.add('active');
        });
      });

      // Voice Assistant
      document.querySelector('.voice-assistant-btn').addEventListener('click', () => {
        alert(currentLanguage === 'en' ? 'Voice assistant activated!' : 'Msaidizi wa sauti ameanzishwa!');
      });

      // Simulate real-time data updates
      function updateData() {
        // Update AQI
        const aqiValues = [45, 89, 156, 178, 201];
        const aqiStatuses = ['Good', 'Moderate', 'Unhealthy for Sensitive', 'Unhealthy', 'Very Unhealthy'];
        const aqiClasses = ['status-good', 'status-good', 'status-moderate', 'status-poor', 'status-poor'];
        
        const randomIndex = Math.floor(Math.random() * aqiValues.length);
        const aqiValue = document.getElementById('aqiValue');
        const aqiStatus = document.getElementById('aqiStatus');
        
        aqiValue.textContent = aqiValues[randomIndex];
        aqiStatus.textContent = aqiStatuses[randomIndex];
        aqiStatus.className = `card-status ${aqiClasses[randomIndex]}`;

        // Update flood risk
        const floodLevels = ['Low', 'Medium', 'High'];
        const floodStatuses = ['Safe', 'Monitor', 'Alert'];
        const riskClasses = ['risk-low', 'risk-medium', 'risk-high'];
        const statusClasses = ['status-good', 'status-moderate', 'status-poor'];
        const riskIndex = Math.floor(Math.random() * floodLevels.length);
        
        document.getElementById('floodValue').textContent = floodLevels[riskIndex];
        document.getElementById('floodValue').className = `card-value ${riskClasses[riskIndex]}`;
        document.getElementById('floodStatus').textContent = floodStatuses[riskIndex];
        document.getElementById('floodStatus').className = `card-status ${statusClasses[riskIndex]}`;
      }

      // Update data every 30 seconds
      setInterval(updateData, 30000);

      // Initialize Azure Maps (placeholder)
      function initializeMap() {
        // This would initialize Azure Maps when the SDK is properly configured
        console.log('Azure Maps would be initialized here with proper API key');
      }

      // Mobile menu toggle
      function toggleSidebar() {
        const sidebar = document.querySelector('.sidebar');
        sidebar.classList.toggle('open');
      }

      // Initialize on load
      document.addEventListener('DOMContentLoaded', () => {
        initializeMap();
        
        // Add mobile menu button if needed
        if (window.innerWidth <= 768) {
          const header = document.querySelector('.header-left');
          const menuBtn = document.createElement('button');
          menuBtn.innerHTML = '<i class="fas fa-bars"></i>';
          menuBtn.className = 'mobile-menu-btn';
          menuBtn.style.cssText = 'background: none; border: none; color: white; font-size: 1.2rem; margin-right: 1rem; cursor: pointer;';
          menuBtn.addEventListener('click', toggleSidebar);
          header.insertBefore(menuBtn, header.firstChild);
        }
      });

      // Handle window resize
      window.addEventListener('resize', () => {
        if (window.innerWidth > 768) {
          document.querySelector('.sidebar').classList.remove('open');
        }
      });
    </script>
  </body>
</html>
